
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/images/favicon.ico"/>
        <title>Hotéis Hasz - Cadastro de Cliente</title>                
    </h:head>
    <h:body>
        <h:form><!--<h:outputText value="#{beanValidationView.name}" />--><!--<p:password 
                                feedback="true" 
                                promptLabel="Verificação de segurança" weakLabel="Senha fraca"
                                goodLabel="Senha média" strongLabel="Senha forte"/>-->
            <p:panel header="Cadastro de Cliente" style="width: 700px">
                <h:panelGrid columns="3" cellpadding="5">

                    <h:outputLabel value="Nome completo" />
                    <p:inputText id="name" required="true" requiredMessage="Campo obrigatório"
                                 value="#{clienteBean.clientefisico.nome}" label="Nome"/>
                    <p:message for="name" />

                    <h:outputLabel value="Sexo" />
                    <p:selectOneRadio id="cbSexo" value="#{clienteBean.clientefisico.sexo}" 
                                      required="true" requiredMessage="Campo obrigatório">
                        <f:selectItem itemLabel="Masculino" itemValue="M"/>
                        <f:selectItem itemLabel="Feminino" itemValue="F" />                        
                    </p:selectOneRadio>
                    <p:message for="cbSexo" />

                    <h:outputLabel value="Data de Nascimento" />                                                    
                    <p:inputMask id = "txtDataNascimento" 
                                 required="true" requiredMessage="Campo obrigatório" mask="99/99/9999" 
                                 value="#{clienteBean.clientefisico.dataNascimento}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </p:inputMask>
                    <p:message for="txtDataNascimento" />

                    <h:outputText value="CPF"/>
                    <p:inputMask id="txtCpf" required="true" requiredMessage="Campo obrigatório" 
                                 mask="999.999.999-99" validator="util.CpfValidator" 
                                 value="#{clienteBean.clientefisico.cpf}"/>
                    <p:message for="txtCpf" />

                    <h:outputLabel value="Senha: " />
                    <p:password id="txtSenha" required="true" requiredMessage="Campo obrigatório" 
                                value="#{clienteBean.clientefisico.senha}" feedback="true"
                                promptLabel="Verificação de segurança" weakLabel="Senha fraca"
                                goodLabel="Senha média" strongLabel="Senha forte" />
                    <p:message for="txtSenha" />

                    <h:outputLabel value="Repita a senha: " />
                    <p:password id="txtRepitaSenha" 
                                required="true" requiredMessage="Campo obrigatório" 
                                value="#{clienteBean.senha2}"
                                validatorMessage="As senhas são diferentes."/>
                    <p:message for="txtRepitaSenha" />

                </h:panelGrid>
                <p:separator/>
                <h:panelGrid columns="6" summary="Endereço">
                    <h:outputLabel value="Estado:"/>
                    <p:selectOneMenu id="cbEstado" value="#{estadoBean.estado}"
                                     >
                        <p:ajax event="change" listener="#{estadoBean.updateCidades}" update="cbCidade"/>
                        <f:selectItem itemLabel="Selecione um estado" itemValue=""/>
                        <f:selectItems value="#{estadoBean.estados}" var="estado"
                                       itemLabel="#{estado.nome}" itemValue="#{estado.nome}"/>
                    </p:selectOneMenu>
                    <p:message for="cbEstado" />
                    <h:outputLabel value="Cidade:"/>
                    <p:selectOneMenu id="cbCidade" value="#{estadoBean.cidade}">
                        <f:selectItem itemLabel="Selecione uma cidade" itemValue=""
                                      noSelectionOption="true"/>
                        <f:selectItems value="#{estadoBean.cidades}"/>
                    </p:selectOneMenu>
                </h:panelGrid>
                <p:commandButton value="Salvar"  ajax="false"
                                 actionListener="#{clienteBean.insertClienteFisico()}"
                                 icon="ui-icon-check" />
                <p:button value="Cancelar"  icon="ui-icon-cancel" href="/index.xhtml"/>
            </p:panel>
        </h:form>
    </h:body>
</html>